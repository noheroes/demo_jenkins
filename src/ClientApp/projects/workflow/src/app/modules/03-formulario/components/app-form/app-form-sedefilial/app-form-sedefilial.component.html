<ng-container *ngIf="state$ | async as state">
  <sunedu-modal-form-container
  [title]="state.title"
  [loading]="state.isLoading"
  (on-submit)="handleSubmit()"
  (on-dismiss)="handleClose()"
  [msgErrors]="state.error"
  [cancelLabel]="CLOSE_MODAL.LIC_CLOSE_MODAL_LABEL" [cancelIcon]="CLOSE_MODAL.LIC_CLOSE_MODAL_ICON"
  [formType]="state.type">
  <mat-card>
    <mat-card-content [hidden] = "state.isLoading  || state.type == formType.REGISTRAR">
      <div class="form-row">
        <div class="col-md-6">
          <sunedu-form-model-field
          label="Código Sede/Filial"
          [formModelField]="form.model['codigo']"
          [disabled]="state.isLoading  || state.type == formType.CONSULTAR">          
        </sunedu-form-model-field>
        </div>
        <div class="col-md-6">
          <sunedu-form-model-field
          variant="select"
          label="Departamento"
          placeholder="Departamento"
          bindLabel="text"
          bindValue="value"
          [formModelField]="form.model['nombreDepartamento']"
          [options]="departamentos"
          (on-change)="handleInputChange($event)"
          [disabled]="state.isLoading  || state.type == formType.CONSULTAR"
          [hideRequiredIndicator]="true">
        </sunedu-form-model-field>
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-6">
          <sunedu-form-model-field
          variant="select"
          label="Provincia"
          placeholder="Provincia"
          bindLabel="text"
          bindValue="value"
          [formModelField]="form.model['nombreProvincia']"
          (on-change)="handleInputChange($event)"
          [options]="provincias"
          [disabled]="state.isLoading  || state.type == formType.CONSULTAR"
          [hideRequiredIndicator]="true">
        </sunedu-form-model-field>
        </div>
        <div class="col-md-6">
          <sunedu-form-model-field
            variant="check"
            label="¿Es Sede Principal?"
            [formModelField]="form.model['esSedeFilial']"
            (on-change)="handleInputChange($event)"
            [disabled]="state.isLoading  || state.type == formType.CONSULTAR"
            [hideRequiredIndicator]="true">
          </sunedu-form-model-field>
        </div>
      </div>
    </mat-card-content>
    <mat-card-content [hidden] = "state.isLoading  || state.type == formType.CONSULTAR || state.type == formType.EDITAR">
      <div class="form-row">
        <div class="col-md-6">
          <sunedu-form-model-field
            variant="select"
            label="Departamento"
            placeholder="Departamento"
            bindLabel="text"
            bindValue="value"
            [formModelField]="form.model['nombreDepartamento']"
            [options]="departamentos"
            (on-change)="handleInputChange($event)"
            [disabled]="state.isLoading  || state.type == formType.CONSULTAR"
            [hideRequiredIndicator]="true">
          </sunedu-form-model-field>
        </div>
        <div class="col-md-6">
          <sunedu-form-model-field
            variant="select"
            label="Provincia"
            placeholder="Provincia"
            bindLabel="text"
            bindValue="value"
            [formModelField]="form.model['nombreProvincia']"
            (on-change)="handleInputChange($event)"
            [options]="provincias"
            [disabled]="state.isLoading  || state.type == formType.CONSULTAR"
            [hideRequiredIndicator]="true">
          </sunedu-form-model-field>
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-6">
          <sunedu-form-model-field
            variant="check"
            label="¿Es Sede Principal?"
            [formModelField]="form.model['esSedeFilial']"
            (on-change)="handleInputChange($event)"
            [disabled]="state.isLoading  || state.type == formType.CONSULTAR"
            [hideRequiredIndicator]="true">
          </sunedu-form-model-field>
        </div>        
      </div>
    </mat-card-content>
  </mat-card>  
</sunedu-modal-form-container>
</ng-container>
